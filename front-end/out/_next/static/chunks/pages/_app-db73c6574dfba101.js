(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{2149:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var o=t(7876),n=t(2975);function a(e){let{Component:r,pageProps:t}=e;return(0,o.jsx)(n.OJ,{children:(0,o.jsx)(r,{...t})})}t(6048)},2975:(e,r,t)=>{"use strict";t.d(r,{OJ:()=>u,As:()=>d});var o=t(7876),n=t(4232);function a(e){this.message=e}a.prototype=Error(),a.prototype.name="InvalidCharacterError";var l="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var r=String(e).replace(/=+$/,"");if(r.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,o,n=0,l=0,c="";o=r.charAt(l++);~o&&(t=n%4?64*t+o:o,n++%4)&&(c+=String.fromCharCode(255&t>>(-2*n&6))))o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return c};function c(e){this.message=e}c.prototype=Error(),c.prototype.name="InvalidTokenError";let i=function(e,r){if("string"!=typeof e)throw new c("Invalid token specified");var t=+(!0!==(r=r||{}).header);try{return JSON.parse(function(e){var r,t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return r=t,decodeURIComponent(l(r).replace(/(.)/g,function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}catch(e){return l(t)}}(e.split(".")[t]))}catch(e){throw new c("Invalid token specified: "+e.message)}},s=(0,n.createContext)(),d=()=>(0,n.useContext)(s);function u(e){let{children:r}=e,[t,a]=(0,n.useState)(null),[l,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=localStorage.getItem("token");if(e){c(e);try{if(p(e)){let r=i(e);a(r)}else localStorage.removeItem("token")}catch(e){console.error("Error decoding token:",e),localStorage.removeItem("token")}}},[]),(0,o.jsx)(s.Provider,{value:{user:t,token:l,login:e=>{p(e)?(localStorage.setItem("token",e),c(e),a(i(e))):console.error("Invalid or expired token.")},logout:()=>{localStorage.removeItem("token"),c(null),a(null)}},children:r})}let p=e=>{try{let r=i(e),t=1e3*r.exp;if(Date.now()>t)return console.error("Token has expired."),!1;return!0}catch(e){return console.error("Error decoding token:",e),!1}}},6048:()=>{},6556:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(2149)}])}},e=>{var r=r=>e(e.s=r);e.O(0,[593,792],()=>(r(6556),r(8253))),_N_E=e.O()}]);