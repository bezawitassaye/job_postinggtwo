(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{703:(e,s,r)=>{"use strict";r.d(s,{A:()=>h});var t=r(7876),o=r(4232),n=r(3679),a=r(2975),l=r(8230),c=r.n(l),i=r(4587),d=r.n(i);function h(){let{user:e,logout:s,token:r}=(0,a.As)(),[l,i]=(0,o.useState)(!1),[h,x]=(0,o.useState)([]),[u,p]=(0,o.useState)(!1),b=(0,o.useRef)(),m=(null==e?void 0:e.username)||"User";return(0,o.useEffect)(()=>{l&&r&&fetch("http://localhost:5000/api/applications/my",{headers:{Authorization:"Bearer ".concat(r)}}).then(e=>e.json()).then(x).catch(console.error)},[l,r]),(0,o.useEffect)(()=>{function e(e){b.current&&!b.current.contains(e.target)&&i(!1)}return l&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]),(0,t.jsxs)("nav",{className:"fixed top-0 left-0 right-0 bg-blue-50 text-white z-50 shadow ",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(c(),{href:"/",className:"flex items-center space-x-2",children:(0,t.jsx)(d(),{src:"/e.png",alt:"Job Portal Logo",width:140,height:80,priority:!0})})}),(0,t.jsxs)("div",{className:"hidden md:flex flex-1 justify-center space-x-6  items-center text-xl text-gray-400",children:[(0,t.jsx)(c(),{href:"/",children:(0,t.jsx)("span",{className:"hover:text-gray-500 cursor-pointer",children:"Home"})}),(0,t.jsx)(c(),{href:"/About",children:(0,t.jsx)("span",{className:"hover:text-gray-500 cursor-pointer",children:"About"})}),(0,t.jsx)(c(),{href:"/ContactUs",children:(0,t.jsx)("span",{className:"hover:text-gray-500 cursor-pointer",children:"Contact"})}),(0,t.jsx)(c(),{href:"/jobs",children:(0,t.jsx)("span",{className:"hover:text-gray-500 cursor-pointer",children:"Jobs"})}),(0,t.jsx)(c(),{href:"/blogs",children:(0,t.jsx)("span",{className:"hover:text-gray-500 cursor-pointer",children:"Blogs"})})]}),(0,t.jsx)("div",{className:"hidden md:flex items-center justify-end space-x-4",children:e?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>i(!l),"aria-label":"User menu",className:"focus:outline-none",children:(0,t.jsx)(n.NBi,{size:28,className:"hover:text-gray-300"})}),l&&(0,t.jsxs)("div",{ref:b,className:"absolute right-0 mt-2 w-64 bg-white text-black rounded shadow-lg p-4 z-50",children:[(0,t.jsxs)("p",{className:"font-semibold mb-2",children:["Hello, ",m]}),(0,t.jsx)("h4",{className:"font-semibold mb-1",children:"Applied Jobs:"}),0===h.length?(0,t.jsx)("p",{className:"text-sm mb-2",children:"No applied jobs yet."}):(0,t.jsx)("ul",{className:"max-h-40 overflow-auto mb-2",children:h.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)(c(),{href:"/jobs/".concat(e.jobId),children:(0,t.jsx)("span",{className:"text-blue-600 hover:underline cursor-pointer",children:e.jobTitle})})},e._id))}),(0,t.jsx)("button",{onClick:()=>{s(),i(!1)},className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700",children:"Logout"})]})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(c(),{href:"/auth/login",children:(0,t.jsx)("span",{className:"text-white text-xl bg-sky-900 py-4 px-12 rounded-full cursor-pointer hover:bg-transparent hover:text-black hover:border-2 hover:border-gray-200 hover:text-sky-900",children:"Login"})}),(0,t.jsx)(c(),{href:"/auth/register",children:(0,t.jsx)("span",{className:"text-sky-900 text-xl py-4 hover:text-white hover:py-4 px-7 rounded-full border-2 border-gray-200 cursor-pointer hover:bg-sky-900 hover:border-0",children:"Register"})})]})}),(0,t.jsx)("div",{className:"md:hidden ml-4",children:(0,t.jsx)("button",{onClick:()=>p(!u),className:"focus:outline-none",children:u?(0,t.jsx)(n.QCr,{size:24}):(0,t.jsx)(n.OXb,{size:24})})})]}),u&&(0,t.jsxs)("div",{className:"md:hidden bg-gray-700 px-4 pb-4 space-y-2",children:[(0,t.jsx)(c(),{href:"/",children:(0,t.jsx)("span",{className:"block py-2 hover:text-gray-300",children:"Home"})}),(0,t.jsx)(c(),{href:"/about",children:(0,t.jsx)("span",{className:"block py-2 hover:text-gray-300",children:"About"})}),(0,t.jsx)(c(),{href:"/contact",children:(0,t.jsx)("span",{className:"block py-2 hover:text-gray-300",children:"Contact"})}),(0,t.jsx)(c(),{href:"/jobs",children:(0,t.jsx)("span",{className:"block py-2 hover:text-gray-300",children:"Jobs"})}),(0,t.jsx)(c(),{href:"/blogs",children:(0,t.jsx)("span",{className:"block py-2 hover:text-gray-300",children:"Blogs"})}),e?(0,t.jsx)("button",{onClick:()=>{s(),p(!1)},className:"block w-full text-left py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Logout"}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 rounded-lg text-sm pt-2",children:[(0,t.jsx)(c(),{href:"/auth/login",children:(0,t.jsx)("span",{className:"text-white text-xl bg-sky-900 py-3 px-10 rounded-full cursor-pointer hover:bg-gray-400 hover:text-black hover:border-2",children:"Login"})}),(0,t.jsx)(c(),{href:"/auth/register",children:(0,t.jsx)("span",{className:"text-white text-xl py-3 px-9 rounded-full border-2 border-gray cursor-pointer hover:bg-sky-900 hover:border-0",children:"Register"})})]})]})]})}},1748:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/edit-job/[id]",function(){return r(5963)}])},5963:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l});var t=r(7876),o=r(4232),n=r(9099),a=r(703);function l(){let{query:e,push:s}=(0,n.useRouter)(),{id:r}=e,[l,c]=(0,o.useState)(""),[i,d]=(0,o.useState)(""),[h,x]=(0,o.useState)(""),[u,p]=(0,o.useState)("");(0,o.useEffect)(()=>{r&&fetch("http://localhost:5000/api/jobs/".concat(r)).then(e=>e.json()).then(e=>{c(e.title),d(e.company),x(e.location),p(e.description)})},[r]);let b=async e=>{e.preventDefault();try{await fetch("http://localhost:5000/api/jobs/".concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:l,company:i,location:h,description:u})}),s("/admin/jobs")}catch(e){console.error("Failed to update job:",e)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.A,{}),(0,t.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-28 bg-blue-50 min-h-screen",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-sky-900 mb-8 text-center",children:"Edit Job"}),(0,t.jsxs)("form",{onSubmit:b,className:"bg-white rounded-lg shadow-lg p-8 space-y-6 border border-gray-200",children:[(0,t.jsx)("input",{className:"border border-gray-300 p-3 w-full rounded focus:outline-none focus:ring-2 focus:ring-sky-600",placeholder:"Job Title",value:l,onChange:e=>c(e.target.value),required:!0}),(0,t.jsx)("input",{className:"border border-gray-300 p-3 w-full rounded focus:outline-none focus:ring-2 focus:ring-sky-600",placeholder:"Company Name",value:i,onChange:e=>d(e.target.value),required:!0}),(0,t.jsx)("input",{className:"border border-gray-300 p-3 w-full rounded focus:outline-none focus:ring-2 focus:ring-sky-600",placeholder:"Location",value:h,onChange:e=>x(e.target.value),required:!0}),(0,t.jsx)("textarea",{className:"border border-gray-300 p-3 w-full rounded focus:outline-none focus:ring-2 focus:ring-sky-600",placeholder:"Description",value:u,onChange:e=>p(e.target.value),rows:5,required:!0}),(0,t.jsx)("button",{type:"submit",className:"bg-yellow-500 text-white px-6 py-3 rounded-full hover:bg-yellow-400 transition",children:"Update Job"})]})]})]})}},9099:(e,s,r)=>{e.exports=r(8253)}},e=>{var s=s=>e(e.s=s);e.O(0,[938,537,636,593,792],()=>s(1748)),_N_E=e.O()}]);